import pandas as pd
from prophet import Prophet

def forecasted_prediction(df, growth_time):
    model = Prophet()
    model.fit(df)
    future = model.make_future_dataframe(periods=growth_time)
    forecast = model.predict(future)
    selling_price = forecast['yhat'].tail(1).iloc[0]
    buying_price = df.iloc[-1].value
    return buying_price, selling_price

def forecasted_rainfall(state, month):

    rainfall = {"Andaman and Nicobar": [105.51175252674676, -10.378977514059523, 89.91134513614409, 145.58474206739888, 306.16255908234945, 155.59938772027039, 455.05038601269547, 342.6290870048461, 483.48167395613814, 301.8389085763194, 190.61076488908972, 109.64817054260405], "Pondicherry": [105.51175252674676, -10.378977514059523, 89.91134513614409, 145.58474206739888, 306.16255908234945, 155.59938772027039, 455.05038601269547, 342.6290870048461, 483.48167395613814, 301.8389085763194, 190.61076488908972, 109.64817054260405], "Arunachal Pradesh": [12.656545628669264, 5.063101180102169, 61.49671587265308, 81.2404834037506, -214.2409229670138, -895.8518172061207, -614.5024258338518, -421.43810933786966, -158.07325222499864, -173.9286499719152, 6.596788849341097, 18.00860102544165], "Odisha": [12.656545628669264, 5.063101180102169, 61.49671587265308, 81.2404834037506, -214.2409229670138, -895.8518172061207, -614.5024258338518, -421.43810933786966, -158.07325222499864, -173.9286499719152, 6.596788849341097, 18.00860102544165], "Assam": [1.4175514168644625, 9.2092212511537, 72.84229640505592, 171.7208893942761, 218.70751090624714, 416.32431922460705, 524.4080866977694, 327.45116967841113, 265.88449594897656, 168.97526198889148, -5.673444394647786, 15.469715732153524],"Meghalaya": [1.4175514168644625, 9.2092212511537, 72.84229640505592, 171.7208893942761, 218.70751090624714, 416.32431922460705, 524.4080866977694, 327.45116967841113, 265.88449594897656, 168.97526198889148, -5.673444394647786, 15.469715732153524], "Manipur": [2.5089040523736417, 11.146642831389524, 50.89255456364469, 133.41221447856722, 419.23396195787944, 185.12791658759357, 153.01108962731848, 241.04190302664722, 218.28577444785003, 138.2850365896365, -41.38421332066337, 12.581820137350745], "Nagaland": [2.5089040523736417, 11.146642831389524, 50.89255456364469, 133.41221447856722, 419.23396195787944, 185.12791658759357, 153.01108962731848, 241.04190302664722, 218.28577444785003, 138.2850365896365, -41.38421332066337, 12.581820137350745], "Tripura": [2.5089040523736417, 11.146642831389524, 50.89255456364469, 133.41221447856722, 419.23396195787944, 185.12791658759357, 153.01108962731848, 241.04190302664722, 218.28577444785003, 138.2850365896365, -41.38421332066337, 12.581820137350745], "Sub Himalayan West Bengal & Sikkim": [26.071385999697334, 38.46478264452428, 124.36876646867212, 260.7057382075201, 327.8765594123046, 415.628149633327, 642.0557792690984, 483.52303020348796, 363.0210866673586, 149.00840024511766, 14.887564540155388, 17.655934907815862], "West Bengal": [11.208147224374862, -13.386165054330997, 27.625336098630058, 44.728412901274034, 111.53148167708004, 287.3119357507084, 429.39433701194537, 309.55590410017925, 403.1098686124283, 186.92468638272376, 5.518949014268458, 22.88141151612111], "Orissa": [4.572417774790508, -18.952872913808037, 13.076001856046158, 18.432227837595406, 56.64814460006234, 206.96555894423616, 317.55722945901005, 341.76536462666866, 270.06851287580105, 92.16453249279078, -17.234863963014263, -0.31882754920774714], "Jharkhand": [-7.70847589059389, -37.49329734072616, 3.605064492511028, 17.38329562437735, 49.45694724362176, 196.66909035190378, 246.16036515016245, 190.30038104722144, 234.38572126118035, 79.33189166880246, -5.138482163535344, 9.844663410935125], "Bihar": [9.335828545411687, -11.685156970345115, -1.3428524769117218, 25.619186316793808, 68.47617957457393, 122.21872506125656, 355.9567369989345, 166.32680553155794, 194.17076223286242, 80.1671341408232, -6.334753976993488, 5.207388840629326], "Uttar Pradesh": [7.247499028017181, 5.2100815543123336, 1.9272192154082104, 4.119758250809125, 25.429335912572085, 143.9579205658918, 175.92586174259944, 94.8652064090868, 65.20071864046453, 19.742007626015987, -5.58784376558408, 3.3765075399527698], "West Uttar Pradesh": [4.233938809819278, 16.333305808373634, 8.617191230366908, 9.063329277389506, 22.85235147613757, 74.38248850948524, 230.24257308466477, 184.51602887701677, 129.067061198867, 17.52551959648701, -2.6748959706854163, -2.218156427665309], "Uttrakhand": [2.8680548721999344, 61.970024961206, 64.06074333024652, 69.05512016480623, 102.06007646808914, 125.49124486899667, 346.80123782487334, 200.5143340181769, 174.75888320876274, 19.496079704177717, -1.6616623003479498, 9.636599968310884], "Haryana": [3.0775745205822, 19.77232203607543, 5.86003148888808, 13.410309758062684, 23.110207877909573, 58.025864023744575, 114.66282670134521, 148.8146958275908, 53.849284777575036, 16.246222153133708, 3.16582917531089, 2.1991246042958776], "Punjab": [-5.177192963008193, 28.25690274270015, 2.1884173896724555, 23.506821055756063, 20.48797011666365, 109.22287335255959, 151.2889199898061, 135.03459761315767, 98.91647528030353, 13.460601836497423, 6.355754132815674, 5.632306700733978], "Himachal Pradesh": [82.30008061884591, 149.8812113110887, 116.61914330705017, 90.06132833626168, 60.304205798489846, 112.54357688748208, 141.21343337055907, 102.64895521205223, 99.10305651863949, 24.05191666982761, 32.19464454890071, 39.11806289837694], "Jammu and Kashmir": [85.24036456817352, 237.7597539876591, 172.6558225067538, 143.61344874698597, 103.94593771308504, 117.71683844272154, 202.31896480913943, 145.03873168098087, 84.24978141875084, 31.3734197037219, 54.457927193715925, 55.98517132065009], "Rajasthan": [-0.1571855579803303, 7.95649656117263, 4.402336877964526, 11.550002868829845, 19.918133508356313, 52.39071677384453, 142.46746452720953, 73.59343977309972, 49.7016820991465, 8.355723799712386, 3.1163652096698806, -0.7692054909600375], "East Rajasthan": [-3.1888240079353922, 1.481359207921784, -0.08565050460131296, 4.745458067575888, 0.432559206969529, 62.41601217827382, 262.4493248935021, 192.33397122699972, 59.08748377153782, 9.359158965083182, 6.211462828952317, -3.2823109463766844], "Madhya Pradesh": [-2.382808119611215, 9.876128942502616, 7.079808423803303, 1.6009201716051231, -0.43618125924422063, 132.95101876103328, 346.1348281860516, 331.28726993648235, 145.00148963668192, 41.51832384583831, 1.0867911896172675, 6.835789801707157], "East Madhya Pradesh": [4.306989235019044, 1.705470964700818, -1.2586816597984316, -9.540928841145872, -2.6349824239235433, 159.52653392115505, 267.3973541100407, 272.53192362807107, 104.25895606102415, 16.15708458794409, -2.1212908432458253, 11.772572746572434], "Gujarat": [-4.121089010819083, -2.8124992545922116, -3.163152606798832, -1.8222958259367057, -7.177587161747059, 162.4217138547056, 373.22085097463423, 300.64376786344786, 227.9923420654095, 21.182948267692243, 7.899536291419913, -0.06510474103817487], "Saurashtra & Kutch": [-2.3190297280153636, -4.29755751567584, -4.217038441759993, -2.0654929868645255, -1.5263252739513091, 135.01950988081174, 193.57484368227912, 248.6460039528245, 182.31177446180092, 27.159652760839947, 10.826689700132627, -0.9529252482381623], "Goa": [-3.371997205091505, -0.7866559119138326, 4.312844554891586, -8.845984751568064, 33.241949482564465, 837.3442665391605, 1213.7546952382409, 1040.4384217824295, 609.0696062673372, 164.1620284112082, 11.184879474895117, 3.3057137569733546], "Maharashtra": [-9.069409264602522, 1.3850995701134883, 5.540653322617193, -1.4128975438800506, -1.6365545041417324, 230.09421202211138, 329.10049135096244, 334.52656653467295, 204.3929601459288, 125.15708289980465, -0.43508973150133023, 0.5495885701261993], "Matathwada": [-7.9861716342224405, -1.3024467294977813, 6.587368157221164, -4.27229683160062, 2.9000962504782097, 136.55180406826383, 184.14363495172898, 235.5146845449279, 55.207940918878066, 94.06877525474319, 2.0402944090546775, 2.221808216179167], "Vidarbha": [4.193725509351273, -11.405829864619005, 5.454377358745339, -3.5744837821083655, -0.5736825201570657, 181.67767221030692, 291.6513244095541, 351.79682550623875, 138.2560275000877, 83.48605976196583, 3.6322001801726196, 2.044075306477267], "Chattisgarh": [4.299904020966979, -49.48156357247126, -14.581526286040619, 3.078990333933148, 5.1280138791849454, 160.6650161446035, 356.91660654863654, 243.7192771433599, 228.74823073409, 48.335498960715405, -0.32751184547137724, 5.528593804160723], "Andhra Pradesh": [8.511954020796502, -7.987270473915419, 18.590890661966995, 33.65782537497233, 70.63003487270996, 146.20463756084268, 226.28290291977692, 222.67987010033713, 236.79189834740072, 146.24495260002, 18.986715489067702, 8.231513579660916], "Telangana": [11.423313859685399, -10.564813588499021, 13.502362522415027, 11.291237391653494, 30.509924594298965, 190.04631404029374, 314.40504987026804, 361.7637579995793, 133.32689860853077, 127.19591144498057, 0.13838895026096765, 4.859547565421257], "Rayalseema": [-30.88555624199246, 6.733162533552356, 14.135825630325623, 29.56589490243683, 44.54643923320559, 123.62364570452185, 125.20239901397714, 159.43391255496292, 96.6357987742781, 192.71612521344392, 67.56319348800596, 32.908056009647694], "Tamil Nadu": [-29.194260124070972, 14.769594726858532, 23.893765014418765, 39.64607821064483, 28.451779016314312, 70.59872740296447, 71.81037060519756, 103.7844132998378, 93.02310902200243, 171.15434498177842, 177.7186349228165, 102.75083920179698], "Karnataka": [0.35800821006172445, 3.055607493592843, 21.789284052970427, 44.76669702089865, 175.7087350765229, 857.1628793750284, 1034.6867123653283, 1156.6253872404873, 411.06603495397593, 238.3936581459776, 44.25580026666816, -1.5889229424426738], "North Interior Karnataka": [1.2164866121172766, -0.5518627643362493, 12.274362999486856, 22.710413930561074, 46.681859094458204, 146.07510473774448, 140.10365605340252, 187.6754712054027, 138.31214511694853, 142.3195815470502, 8.211936913426062, -2.0390565339875097], "South Interior Karnataka": [-0.7088117927884368, 2.0542719235876428, 26.22052103075991, 62.674953827792216, 54.97123944944994, 216.0596438109545, 214.6612754540358, 314.7386878112049, 168.88564609383, 171.57556467901182, 11.749813402941268, 0.6283639408784429], "Kerala": [-12.554168562638376, 13.03480893847423, 38.26991295305484, 132.97419074677512, 151.04277474454045, 414.91325665799036, 299.5852801486748, 410.0150340911298, 322.2580945015827, 273.6518585405287, 66.17207198724368, 12.888759511647299], "Lakshadweep": [-20.48933031590761, -9.638364960219821, 4.444938162240642, -9.643701726683734, 144.0855309517931, 370.43906115374085, 406.05414614959255, 316.463474169315, 239.16405345079676, 64.21226809837401, 65.02311550467175, 47.25074814730065]}



    return rainfall.get(state)